(this.webpackJsonpbiblioteca=this.webpackJsonpbiblioteca||[]).push([[0],{24:function(e,t,n){e.exports=n(63)},29:function(e,t,n){},31:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){e.exports=n.p+"static/media/logo.65342370.svg"},63:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(9),l=n.n(o),c=(n(29),n(21)),u=n(7),i=n.n(u),s=n(13),m=n(22),h=n(8),d=(n(31),n(65)),p=n(66),f=n(67),E=function(e){return r.a.createElement(d.a,{hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"T\xedtulo"),r.a.createElement("th",null,"Autor"),r.a.createElement("th",null,"G\xeanero"),r.a.createElement("th",null,"Ano"),r.a.createElement("th",null,"A\xe7\xf5es"))),r.a.createElement("tbody",null,e.books.length>0?e.books.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.title),r.a.createElement("td",null,t.author),r.a.createElement("td",null,t.gender),r.a.createElement("td",null,t.year),r.a.createElement("td",null,r.a.createElement(p.a,{onClick:function(){e.editRow(t)},className:"button muted-button",style:{cursor:"pointer"}}),r.a.createElement(f.a,{onClick:function(){return e.deleteBook(t.id)},className:"button muted-button",style:{cursor:"pointer"}})))})):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:6},"Nenhum livro encontrado"))))},b=n(68),g=n(69),v=n(70),y=n(71),k=n(72),j=n(76),O=n(73),w=n(74),C=n(75),x=(n(34),function(e){var t=e.placeholder,n=e.handleChange;return r.a.createElement("input",{className:"search",type:"search",placeholder:t,onChange:n})}),N=(n(35),n(20)),S=n.n(N);var T=function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],o=t[1],l=Object(a.useState)([]),u=Object(h.a)(l,2),d=u[0],p=u[1],f=Object(a.useState)({title:void 0,author:void 0,gender:void 0,year:void 0}),N=Object(h.a)(f,2),T=N[0],A=N[1],L=Object(a.useState)(!1),B=Object(h.a)(L,2),J=B[0],G=B[1],P=Object(a.useState)(!1),D=Object(h.a)(P,2),I=D[0],R=D[1],W=Object(a.useState)(!1),z=Object(h.a)(W,2),U=z[0],$=z[1],q=function(e,t){var n=Object(m.a)({},T);n[e]=t,A(n)},F=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{I?($(!0),t={title:T.title,author:T.author,gender:T.gender,year:T.year},n={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},fetch("https://library-arthur.herokuapp.com/books/".concat(T.id),n).then((function(e){return e.text()})).then(console.log("ok","response")),R(!1),G(!1),setTimeout((function(){K(),$(!1)}),500),A({id:void 0,title:void 0,author:void 0,gender:void 0,year:void 0})):($(!0),a={title:T.title,author:T.author,gender:T.gender,year:T.year},r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},fetch("https://library-arthur.herokuapp.com/books",r).then((function(e){return e.text()})).then(console.log("ok")),G(!1),setTimeout((function(){K(),$(!1)}),500))}catch(o){console.log("error:",o)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){G(!J),R(!1)},K=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://library-arthur.herokuapp.com/books").then((function(e){return e.json()})).then((function(e){console.log("aaa",e),o(Object(c.a)(e)),p(e)}),(function(e){console.log("error",e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$(!0),fetch("https://library-arthur.herokuapp.com/books/".concat(t),{method:"DELETE"}).then((function(e){return e.text()})).then((function(e){return console.log(e)})),setTimeout((function(){K(),$(!1)}),500);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q="";return Object(a.useEffect)((function(){K()}),[]),r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement(g.a,{className:"navbar text-white"},"Biblioteca"),r.a.createElement(v.a,null,r.a.createElement(y.a,null,r.a.createElement(x,{placeholder:"Procurar Livro",handleChange:function(e){Q=e.target.value;var t=d.filter((function(e){return e.title.toLowerCase().includes(Q.toLowerCase())}));Q&&""!==Q?o(t):K()}})),r.a.createElement(y.a,{className:"text-right btnSave"},r.a.createElement(k.a,{color:"secondary",size:"sm",onClick:function(){return G(!0)}},"Novo Livro"))),r.a.createElement(E,{books:n,deleteBook:M,editRow:function(e){G(!0),R(!0),A({id:e.id,title:e.title,author:e.author,gender:e.gender,year:e.year})}})),r.a.createElement(j.a,{isOpen:J,toggle:H},r.a.createElement(O.a,{toggle:H},"Salvar Livro"),r.a.createElement(w.a,null,r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"T\xedtulo"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"T\xedtulo",value:T.title,onChange:function(e){return q("title",e.target.value)}}),r.a.createElement("label",null,"Autor"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Autor",value:T.author,onChange:function(e){return q("author",e.target.value)}}),r.a.createElement("label",null,"G\xeanero"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"G\xeanero",value:T.gender,onChange:function(e){return q("gender",e.target.value)}}),r.a.createElement("label",null,"Ano"),r.a.createElement("input",{className:"form-control",type:"number",placeholder:"Ano",value:T.year,onChange:function(e){return q("year",e.target.value)}})))),r.a.createElement(C.a,null,r.a.createElement(k.a,{color:"primary",onClick:F},"Salvar"),r.a.createElement(k.a,{color:"secondary",onClick:H},"Cancelar"))),U?r.a.createElement("div",{style:{width:"100%",height:"100",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(S.a,{type:"ThreeDots",color:"rgb(58, 70, 99);",height:"50",width:"50"})):null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(62);l.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.6956152b.chunk.js.map